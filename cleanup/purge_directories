

__purge_directories() {
  if [ -z "$1" ]; then
    echo "Usage: purge_directories <folder_name_to_delete>"
    return 1
  fi

  local FOLDER_NAME_TO_DELETE="$1"
  echo "Starting purging of folders named \"$FOLDER_NAME_TO_DELETE\"..."

  DELETE_COUNT=$(find . -name "$FOLDER_NAME_TO_DELETE" -type d -prune | wc -l)
  echo "Found $DELETE_COUNT folders named \"$FOLDER_NAME_TO_DELETE\"."

  find . -name "$FOLDER_NAME_TO_DELETE" -type d -print -prune -exec rm -rf '{}' +

  echo "Purged folders named \"$FOLDER_NAME_TO_DELETE\"."
}


__purge_directories "$1"