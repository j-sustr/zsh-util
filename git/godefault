

__godefault() { 
  local branch
  branch=$(git symbolic-ref --quiet --short refs/remotes/origin/HEAD 2>/dev/null)
  if [[ -z "$branch" ]]; then
    # fallback: parse default branch from ls-remote
    branch=$(git remote show origin | awk '/HEAD branch/ {print $NF}')
  else
    branch="${branch##*/}"
  fi
  git switch "$branch"
}

__godefault